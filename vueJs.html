<!doctype html>
<html lang="fr">

<head>
  <title>jQuery example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <div class="container-fluid">
    <div id="app">
      <div>
        <h1>{{ message }}</h1>
        <hr />
        <div class="alignButton">
        <button id="fetch-users" class="btn btn-primary" @click="fetchUsers">Fetch users</button>
        <!--<button id="youngAge" class="btn btn-primary" @click="sortYoungest">Youngest users</button>
          <button id="oldAge" class="btn btn-primary" @click="sortOldest">Oldest users</button>
          <button id="trieFemme" class="btn btn-primary" @click="filterByGender">women users</button>
          <button id="trieHomme" class="btn btn-primary" @click="filterByGender">men users</button>-->
        </div>
        <p>Nombres d'utilisateurs : <span id="nombrePersonne">{{ users.length }}</span></p>
      </div>
      <table id="tbl-users" class="table table-hover">
        <thead>
          <tr>
            <th></th>
            <th>Nom</th>
            <th>Email</th>
            <th>Age</th>
            <th>Tel</th>
          </tr>
        </thead>
        <tbody>
            <tr v-for="user in users" :key="user.email">
              <td><img :src="user.picture.thumbnail" alt="profil"></td>
              <td>{{ user.gender === 'male' ? 'ğŸ‘¨' : 'ğŸ‘©' }}{{ user.name.first }} {{ user.name.last }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.dob.age }}</td>
              <td>{{ user.phone }}</td>
            </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@3.4.15/dist/vue.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.js"></script>
  <script>
    const { createApp, ref } = Vue;
    
    createApp({
      setup() {
        const message = ref('Annuaire des utilisateurs');
        const users = ref([]); // Stocker les donnÃ©es utilisateur
    
        // Chargement des donnÃ©es utilisateur
        const fetchUsers = async () => {
          const response = await axios.get('https://randomuser.me/api/?results=20');
          users.value = response.data.results;
        };
    
        return {
          message,
          users,
          fetchUsers,
        };
      }
    }).mount('#app');
    </script>    
</body>
</html>